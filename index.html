<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- ===== 검색/공유 메타 ===== -->
  <title>내신 5등급제 등급컷 계산기 | 9등급제도 지원</title>
  <meta name="description" content="인원수만 입력하면 5등급제(10·24·32·24·10) 기준으로 등급별 인원과 석차 구간을 즉시 계산합니다. 9등급제도 지원하며 반올림 후 총합 보정(최대잔여)을 적용합니다.">

  <!-- 정규 URL(본인 주소로 유지하세요) -->
  <link rel="canonical" href="https://lovepi314.github.io/5scoring/">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="내신 5등급제 등급컷 계산기 (9등급제 지원)">
  <meta property="og:description" content="인원 입력 → 등급별 인원·석차 구간 즉시 계산. 반올림+총합 보정.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://lovepi314.github.io/5scoring/">
  <meta name="twitter:card" content="summary">

  <!-- 색인 허용(기본값이지만 명시) -->
  <meta name="robots" content="index,follow">

  <style>
    :root{--bg:#f7f7f8;--ink:#111;--muted:#666;--border:#e5e7eb;--bar:#2b2b2b;--row:#fafafa;--btn:#2d6cdf}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    .top{background:var(--bar);color:#fff;padding:10px 18px;font-weight:700}
    .wrap{max-width:820px;margin:0 auto;padding:18px}
    .panel{background:#fff;border:1px solid var(--border);border-radius:8px;padding:10px;margin:12px 0}
    .row{display:flex;gap:8px}
    input[type="number"]{flex:1;border:1px solid var(--border);border-radius:6px;padding:8px 10px}
    button{width:180px;border:0;border-radius:6px;padding:8px 10px;background:var(--btn);color:#fff;font-weight:800;cursor:pointer}
    button:active{opacity:.9}
    .tbl{overflow:auto;border:1px solid var(--border);border-radius:8px;background:#fff}
    table{width:100%;border-collapse:collapse}
    thead th{background:#333;color:#fff;text-align:left;padding:8px}
    tbody td{border-top:1px solid var(--border);padding:8px}
    tbody tr:nth-child(odd){background:var(--row)}
    .muted{color:var(--muted)}
    .hint{margin-top:6px}
    .foot{margin-top:8px}
  </style>
</head>
<body>
  <!-- 시각 헤더 -->
  <div class="top">내신 5등급제 계산기</div>

  <!-- SEO용 H1 (시각적으로도 보이게 배치) -->
  <h1 class="wrap" style="margin-top:12px">내신 5등급제 등급컷 계산기</h1>
  <p class="wrap muted" style="margin-top:-6px">
    5등급제는 1·2·3·4·5등급을 각각 <strong>10%·24%·32%·24%·10%</strong>로 나누는 방식입니다.
    아래에 학급 인원을 입력하면 등급별 인원과 석차 구간을 반올림 후 총합 보정(최대잔여)으로 즉시 계산합니다.
    필요하면 9등급제(4·7·12·17·20·17·12·7·4)도 지원합니다.
  </p>

  <div class="wrap">
    <div class="panel">
      <div class="muted" style="margin-bottom:6px">인원수를 입력하세요</div>
      <div class="row">
        <input id="total" type="number" min="1" value="100" onkeydown="if(event.key==='Enter'){compute();}">
        <button type="button" onclick="compute()">계산하기</button>
      </div>
      <label class="muted hint">
        등급 체제:
        <select id="scheme" onchange="compute()" style="margin-left:6px">
          <option value="5" selected>5등급제</option>
          <option value="9">9등급제</option>
        </select>
      </label>
      <p class="muted hint">
        기준 비율(5등급제): 1등급 10% · 2등급 24% · 3등급 32% · 4등급 24% · 5등급 10%
      </p>
    </div>

    <div class="tbl" aria-live="polite">
      <table aria-label="학급 등급표">
        <thead>
          <tr><th>등급</th><th>비율</th><th>인원</th><th>등수</th></tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>
    </div>

    <p class="muted foot">참고용 계산기입니다. 실제 학교 지침(동점 처리 등)과 다를 수 있습니다.</p>
  </div>

  <noscript>
    <div style="max-width:820px;margin:12px auto;color:#b91c1c;background:#fee2e2;border:1px solid #fecaca;border-radius:8px;padding:10px">
      이 페이지는 계산을 위해 JavaScript가 필요합니다. 브라우저 설정에서 JavaScript를 허용해 주세요.
    </div>
  </noscript>

  <!-- FAQ 구조화 데이터(리치 스니펫) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"5등급제 계산 방법은?","acceptedAnswer":{"@type":"Answer","text":"각 비율(10/24/32/24/10)을 인원수에 곱해 반올림한 뒤, 전체 합이 인원과 일치하도록 최대잔여 방식으로 보정합니다."}},
      {"@type":"Question","name":"9등급제도 계산할 수 있나요?","acceptedAnswer":{"@type":"Answer","text":"네. 선택박스에서 9등급제를 고르면 4/7/12/17/20/17/12/7/4 비율로 계산합니다."}}
    ]
  }
  </script>

  <script>
    // 비율 사전 (5·9등급제 지원)
    var DIST = {
      "5": { labels: ["1등급","2등급","3등급","4등급","5등급"],
             perc:   [10, 24, 32, 24, 10] },
      "9": { labels: ["1등급","2등급","3등급","4등급","5등급","6등급","7등급","8등급","9등급"],
             perc:   [ 4,  7, 12, 17, 20, 17, 12,  7,   4] }
    };

    function getScheme(){
      var el = document.getElementById('scheme');
      return (el && el.value === '9') ? '9' : '5';
    }

    // 반올림 + 최대잔여(총합 보정)
    function allocateCounts(total, percents){
      if (!total || total < 1) return percents.map(function(){return 0;});
      var raw = percents.map(function(p){ return total * p / 100; });
      var counts = raw.map(function(x){ return Math.round(x); });

      var sum = 0; for (var i=0;i<counts.length;i++) sum += counts[i];
      var delta = total - sum; // >0: +1, <0: -1

      // 반올림에서 멀수록 우선(분수부 절댓값 큰 순)
      var order = raw.map(function(x,i){ return {i:i, frac:Math.abs(x - Math.round(x))}; })
                     .sort(function(a,b){ return b.frac - a.frac; });

      while (delta !== 0) {
        if (delta > 0) {
          for (var u=0; u<order.length && delta>0; u++){ counts[order[u].i]++; delta--; }
        } else {
          for (var d=order.length-1; d>=0 && delta<0; d--){
            var idx = order[d].i;
            if (counts[idx] > 0){ counts[idx]--; delta++; }
          }
        }
      }
      return counts;
    }

    function cumulative(arr){ var out=[], s=0; for(var i=0;i<arr.length;i++){ s+=arr[i]; out.push(s);} return out; }

    function compute(){
      var total = Math.max(1, Number(document.getElementById('total').value) || 0);
      var rowsEl = document.getElementById('rows');

      var key = getScheme();
      var PERCENTS = DIST[key].perc;
      var LABELS   = DIST[key].labels;

      var counts = allocateCounts(total, PERCENTS);
      var cum = cumulative(counts);

      rowsEl.innerHTML = '';
      for (var i=0;i<counts.length;i++){
        var c = counts[i];
        var start = (i===0) ? 1 : (cum[i-1] + 1);
        var end = cum[i];

        var tr  = document.createElement('tr');
        function td(txt){ var e=document.createElement('td'); e.textContent=txt; return e; }
        tr.appendChild(td(LABELS[i]));
        tr.appendChild(td(PERCENTS[i] + '%'));
        tr.appendChild(td(c));
        tr.appendChild(td(c>0 ? (start + ' ~ ' + end + ' 등수까지') : '-'));
        rowsEl.appendChild(tr);
      }
    }

    // 초기 렌더
    compute();
  </script>
</body>
</html>
